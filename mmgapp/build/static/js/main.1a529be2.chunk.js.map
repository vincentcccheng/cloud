{"version":3,"sources":["components/AddMCForm.js","components/EditItemForm.js","components/ItemTable.js","components/ItemTotal.js","components/DefectTable.js","components/DefectList.js","components/ShowAlert.js","components/CheckForm.js","components/PhotoBlock.js","components/UploadForm.js","components/SearchKey.js","components/MainMenu.js","App.js","index.js"],"names":["AddMCForm","props","useState","mc","setMC","displayAlert","msg","bar","setDisplayAlert","onSubmit","event","preventDefault","found","mcTable","find","x","mc_no","duplicate","items","addMC","validateMC","type","name","onChange","value","target","EditItemForm","currentItem","item","setItem","useEffect","updateItem","id","ship_qty","onClick","setEditing","className","ItemTable","sortTable","sort","table","rows","switching","i","y","shouldSwitch","document","getElementById","length","getElementsByTagName","innerHTML","toLowerCase","parentNode","insertBefore","map","key","item_no","order_qty","editRow","deleteItem","colSpan","ItemTotal","items2","obj","reduce","prev","next","parseInt","items3","Object","keys","deleteAllItems","DefectTable","currentProduct","setCurrentProduct","currentDefectArea","setCurrentDefectArea","currentDefectDetail","setCurrentDefectDetail","currentMajor","setCurrentMajor","currentMinor","setCurrentMinor","defectList","setDefectList","defectLanguage","setDefectLanguage","fetch","method","then","response","json","catch","err","console","log","d","productDefect","first","push","filter","product","defect_area","_id","lang","defect_detail","placeholder","min","max","major_int","isNaN","minor_int","addToDefectList","DefectList","defects","major","minor","deleteDefect","ShowAlert","alert","CheckForm","handleInputChange","selected","index","findIndex","result","nextSelected","handleCheckItemChange","checkList","category","bgcolor","PhotoBlock","uploadTable","enable","mime_type","href","downloadDoc","file_name","src","alt","UploadForm","selectedFile","setSelectedFile","inspectionID","headers","blob","url","window","URL","createObjectURL","Blob","link","createElement","setAttribute","body","appendChild","click","removeChild","showMimeIcon","fileExtension","parts","split","getExtension","iconType","ext","icon","deleteUpload","newUploadTable","uploads","r","uploadItem","setUploads","multiple","file","files","formData","FormData","append","axios","data","res","inspection_id","concat","SearchKey","setKey","handleKeyChange","setInspectionID","iteration","MainMenu","handleClick","handleSave","handleDelete","handleSearch","checkListTable","section","App","setItems","editing","setCurrentItem","setDefects","setAlert","alertBar","setAlertBar","setMCTable","setCheckList","Date","inspectionDate","setInspectionDate","mc_row","uuidv4","setTimeout","JSON","stringify","undefined","dateFormat","date","updatedItem","defect","change","newCheckList","ReactDOM","render"],"mappings":"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","file":"static/js/main.1a529be2.chunk.js","sourcesContent":["import React, { useState } from \"react\"\n\nconst AddMCForm = props => {\n\n  const [mc, setMC] = useState(\"\")\n\n  const handleInputChange = event => {\n    const { value } = event.target\n    setMC({ mc: value })\n  }\n\n  const validateMC = mc => {\n    const found = props.mcTable.find(x => x.mc_no === mc)\n    const duplicate = props.items.find(x => x.mc_no === mc)\n    if (found == null) {\n      displayAlert(\"No such MC, please check ! \",0)\n    } else if (duplicate == null) {\n      props.addMC({ mc: mc })\n    } else {\n      displayAlert(\"MC was already entered, please check ! \",0)\n    }\n  }\n\n  const displayAlert = (msg, bar) => {\n    props.setDisplayAlert(msg, bar)\n  }\n\n  return (\n    <form\n      onSubmit={event => {\n        event.preventDefault()\n        validateMC(mc.mc)\n      }}\n    >\n      <label>Name</label>\n      <input type=\"text\" name=\"mc\" onChange={handleInputChange} />\n      <button>Add new MC</button>\n    </form>\n  )\n}\n\nexport default AddMCForm\n","import React, { useState, useEffect } from \"react\"\n\nconst EditItemForm = props => {\n  const [item, setItem] = useState(props.currentItem)\n\n  useEffect(() => {\n    setItem(props.currentItem)\n  }, [props])\n  // You can tell React to skip applying an effect if certain values haven’t changed between re-renders. [ props ]\n\n  const handleInputChange = event => {\n    const { value } = event.target\n    setItem({ ...item, ship_qty: value })\n  }\n\n  return (\n    <form\n      onSubmit={event => {\n        event.preventDefault()\n\n        props.updateItem(item.id, item)\n      }}\n    >\n      <label>Ship Qty</label>\n      <input type=\"text\" name=\"ship_qty\" value={item.ship_qty} onChange={handleInputChange} />\n      <button>Update qty</button>\n      {/* add type=button below to avoid form submisson message  */}\n      <button type=\"button\" onClick={() => props.setEditing(false)} className=\"button muted-button\">\n        Cancel\n      </button>\n    </form>\n  )\n}\n\nexport default EditItemForm\n","import React from \"react\"\n\nconst ItemTable = props => {\n  const sortTable = sort => {\n    var table, rows, switching, i, x, y, shouldSwitch\n    table = document.getElementById(\"itemTable\")\n    switching = true\n    /*Make a loop that will continue until\n    no switching has been done:*/\n    while (switching) {\n      //start by saying: no switching is done:\n      switching = false\n      rows = table.rows\n      /*Loop through all table rows (except the\n      first, which contains table headers):*/\n      for (i = 1; i < rows.length - 1; i++) {\n        //start by saying there should be no switching:\n        shouldSwitch = false\n        /*Get the two elements you want to compare,\n      one from current row and one from the next:*/\n        x = rows[i].getElementsByTagName(\"TD\")[sort]\n        y = rows[i + 1].getElementsByTagName(\"TD\")[sort]\n        //check if the two rows should switch place:\n        if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {\n          //if so, mark as a switch and break the loop:\n          shouldSwitch = true\n          break\n        }\n      }\n      if (shouldSwitch) {\n        /*If a switch has been marked, make the switch\n      and mark that a switch has been done:*/\n        rows[i].parentNode.insertBefore(rows[i + 1], rows[i])\n        switching = true\n      }\n    }\n  }\n\n  return (\n    <table id=\"itemTable\">\n      <thead>\n        <tr>\n          <th>MC#</th>\n          <th>Item</th>\n          <th>Order Qty</th>\n          <th>Ship Qty</th>\n          <th>\n            <button\n              onClick={() => sortTable(1)}\n              //className=\"button muted-button\"\n            >\n              By Item\n            </button>\n          </th>\n          <th>\n            <button\n              onClick={() => sortTable(0)}\n              //className=\"button muted-button\"\n            >\n              By MC\n            </button>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        {props.items.length > 0 ? (\n          props.items.map(item => (\n            <tr key={item.id}>\n              <td>{item.mc_no}</td>\n              <td>{item.item_no}</td>\n              <td>{item.order_qty}</td>\n              <td>{item.ship_qty}</td>\n              <td>\n                <button\n                  onClick={() => {\n                    props.editRow(item)\n                  }}\n                  className=\"button muted-button\"\n                >\n                  Edit\n                </button>\n              </td>\n              <td>\n                <button onClick={() => props.deleteItem(item.id)} className=\"button muted-button\">\n                  Delete\n                </button>\n              </td>\n            </tr>\n          ))\n        ) : (\n          <tr>\n            <td colSpan={3}>No items</td>\n          </tr>\n        )}\n      </tbody>\n    </table>\n  )\n}\n\nexport default ItemTable\n","import React from \"react\"\n\nconst ItemTotal = props => {\n  // remove columns : mc_no and id in prepration for calculating total by item#\n\n  const items1 = props.items.map(function (obj) {\n    return {\n      item_no: obj.item_no,\n      //order_qty: obj.order_qty,\n      ship_qty: obj.ship_qty\n    }\n  })\n\n  // use reduce to calculate total by item#\n  const items2 = items1.reduce((prev, next) => {\n    if (next.item_no in prev) {\n      prev[next.item_no].ship_qty = parseInt(prev[next.item_no].ship_qty) + parseInt(next.ship_qty)\n    } else {\n      prev[next.item_no] = next\n    }\n    return prev\n  }, {})\n  // present each item total\n  const items3 = Object.keys(items2).map(item_no => items2[item_no])\n\n  return (\n    // present the table\n    <table>\n      <thead>\n        <tr>\n          <th>Item</th>\n          <th>Ship Qty</th>\n          <th>Delete Item</th>\n        </tr>\n      </thead>\n      <tbody>\n        {items3.length > 0 ? (\n          items3.map(item => (\n            <tr key={item.item_no}>\n              <td>{item.item_no}</td>\n              <td>{item.ship_qty}</td>\n              <td>\n                <button\n                  onClick={() => {\n                    props.deleteAllItems(item.item_no)\n                  }}\n                  //className=\"button muted-button\"\n                >\n                  Delete\n                </button>\n              </td>\n            </tr>\n          ))\n        ) : (\n          <tr>\n            <td colSpan={3}>No items</td>\n          </tr>\n        )}\n      </tbody>\n    </table>\n  )\n}\n\nexport default ItemTotal\n","import React, { useState, useEffect, Fragment } from \"react\"\n\nconst DefectTable = props => {\n  // remove columns : mc_no and id in prepration for calculating total by item#\n\n  const [currentProduct, setCurrentProduct] = useState(\"Select\")\n  const [currentDefectArea, setCurrentDefectArea] = useState(\"\")\n  const [currentDefectDetail, setCurrentDefectDetail] = useState(\"\")\n  const [currentMajor, setCurrentMajor] = useState(\"\")\n  const [currentMinor, setCurrentMinor] = useState(\"\")\n  const [defectList, setDefectList] = useState([])\n  const [defectLanguage, setDefectLanguage] = useState(\"en\")\n\n  useEffect(() => {\n    fetch(\"/api/getDefectTable\", {\n      method: \"GET\"\n      // ,\n      // \"headers\": {\n      //   \"x-rapidapi-host\": \"fairestdb.p.rapidapi.com\",\n      //   \"x-rapidapi-key\": \"apikey\"\n      // }\n    })\n      .then(response => response.json())\n      .then(response => {\n        setDefectList(response)\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }, [])\n\n  //  prepare for the defect selection - need to associate based on each specific product and then its associted defect.\n  let d = defectList\n  const productDefect = []\n\n  while (d.length > 0) {\n    const first = d[0]\n    productDefect.push(first)\n    d = d.filter(x => (x.product !== first.product || x.defect_area !== first.defect_area) && x._id !== first._id)\n  }\n\n  const handleSelectChangeProduct = event => {\n    const { value } = event.target\n    setCurrentProduct(value)\n    setCurrentDefectArea(\"Select\")\n    setCurrentMajor(\"\")\n    setCurrentMinor(\"\")\n  }\n\n  const handleSelectChangeDefect = event => {\n    const { value } = event.target\n    setCurrentDefectArea(value)\n    setCurrentDefectDetail(\"Select\")\n  }\n\n  const handleSelectChangeDefectDetail = event => {\n    const { value } = event.target\n    setCurrentDefectDetail(value)\n  }\n\n  const handleCurrentMajorChange = event => {\n    const { value } = event.target\n    setCurrentMajor(value)\n  }\n\n  const handleCurrentMinorChange = event => {\n    const { value } = event.target\n    setCurrentMinor(value)\n  }\n\n  const handleChangeDefectLanguage = event => {\n    const { value } = event.target\n    setDefectLanguage(value)\n  }\n\n  return (\n    // present the table\n\n    <Fragment>\n      <div className=\"defectOption\">\n        <select className=\"defectOption__language\" onChange={handleChangeDefectLanguage}>\n          <option value=\"en\">English</option>\n          <option value=\"zh\">Chinese</option>\n        </select>\n      </div>\n\n      <div className=\"defectRow\">\n        <div className=\"defectOption\">\n          <select className=\"defectOption__product\" onChange={handleSelectChangeProduct}>\n            <option value=\"Select\">Select</option>\n            <option value=\"Fashion Jewelry\">Fashion Jewelry</option>\n            <option value=\"Footwear\">Footware</option>\n            <option value=\"Handbags\">Handbags</option>\n            <option value=\"Hardlines\">Hardlines</option>\n            <option value=\"Softlines\">Softlines</option>\n            \n          </select>\n        </div>\n        <div className=\"defectOption\">\n          <select className=\"defectOption__defectArea\" onChange={handleSelectChangeDefect}>\n            <option value=\"Select\">Select</option>\n            {productDefect\n              .filter(y => y.product === currentProduct && y.lang === defectLanguage)\n              .map(x => (\n                <option key={x._id} value={x.defect_area}>\n                  {x.defect_area}\n                </option>\n              ))}\n          </select>\n        </div>\n        <div className=\"defectOption\">\n          <select className=\"defectOption__defectDetail\" onChange={handleSelectChangeDefectDetail}>\n            <option value=\"Select\">Select</option>\n            {defectList\n              .filter(y => y.product === currentProduct && y.defect_area === currentDefectArea && y.lang === defectLanguage)\n              .map(x => (\n                <option key={x._id} value={x.defect_detail}>\n                  {x.defect_detail}\n                </option>\n              ))}\n          </select>\n        </div>\n        <div className=\"defectOption\">\n          <input className=\"defectOption__major\" type=\"number\" name=\"major\" placeholder=\"major\" value={currentMajor} min=\"0\" max=\"5\" onChange={handleCurrentMajorChange} />\n        </div>\n        <div className=\"defectOption\">\n          <input className=\"defectOption__minor\" type=\"number\" name=\"minor\" placeholder=\"minor\" value={currentMinor} min=\"0\" max=\"5\" onChange={handleCurrentMinorChange} />\n        </div>\n        <div className=\"defectOption\">\n          <form\n            onSubmit={event => {\n              event.preventDefault()\n              const major_int = isNaN(parseInt(currentMajor)) // check if empty, return true if empty\n              const minor_int = isNaN(parseInt(currentMinor)) // check if empty, return true if empty\n\n              if (currentProduct === \"Select\" || currentDefectArea === \"Select\" || currentDefectDetail === \"Select\") {\n                props.setDisplayAlert(\"Please make sure you have selected Product, Defect and Defect Detail ! \", 2)\n              } else if (major_int || minor_int || (currentMajor < 1 && currentMinor < 1)) {\n                props.setDisplayAlert(\"Please make sure you have entered either Major and Minor quantity ! \", 2)\n              } else {\n                props.addToDefectList(currentProduct, currentDefectArea, currentDefectDetail, currentMajor, currentMinor)\n              }\n            }}\n          >\n            <button>Add to Defect</button>\n          </form>\n        </div>\n      </div>\n    </Fragment>\n  )\n}\n\nexport default DefectTable\n","import React from \"react\"\n\nconst DefectList = props => {\n  return (\n    // present the table\n    <table>\n      <thead>\n        <tr>\n          <th>Product</th>\n          <th>Defect</th>\n          <th>Defect Detail</th>\n          <th>Major</th>\n          <th>Minor</th>\n          <th>Delete</th>\n        </tr>\n      </thead>\n      <tbody>\n        {props.defects.length > 0 ? (\n          props.defects.map(x => (\n            <tr key={x.id}>\n              <td>{x.product}</td>\n              <td>{x.defect_area}</td>\n              <td>{x.defect_detail}</td>\n              <td>{x.major}</td>\n              <td>{x.minor}</td>\n              <td>\n                <button\n                  className=\"button-delete\"\n                  onClick={() => {\n                    props.deleteDefect(x.id)\n                  }}\n                >\n                  &times;\n                </button>\n              </td>\n            </tr>\n          ))\n        ) : (\n          <tr>\n            <td colSpan={3}>No Defects</td>\n          </tr>\n        )}\n      </tbody>\n    </table>\n  )\n}\n\nexport default DefectList\n","import React from \"react\"\n\nconst ShowAlert = props => {\n  return (\n    // present the table\n    <h5 className=\"alert alert__green\" >{props.alert}</h5>\n  )\n}\nexport default ShowAlert\n","import React from \"react\"\n\nconst CheckForm = props => {\n  const handleInputChange = (id, x) => {\n    const selected = [\"Select\", \"OK\", \"NA\", \"X\", \"NI\"]\n    let index = selected.findIndex(y => y === x.result)\n    if (index === 4) {\n      index = 1\n    } else {\n      index = index + 1\n    }\n    const nextSelected = selected[index]\n    props.handleCheckItemChange(id, { ...x, result: nextSelected })\n  }\n\n  return (\n    <form\n      onSubmit={event => {\n        event.preventDefault()\n        //  props.updateItem(item.id, item)\n      }}\n    >\n      <h5>Basic Check List</h5>\n      <table id=\"customers\" className=\"fixed\">\n        <thead>\n          <tr>\n            <th>Category</th>\n            <th>Item</th>\n            <th>Result</th>\n            <th>Drop Down Result</th>\n          </tr>\n        </thead>\n        <tbody>\n          {props.checkList.map(x => (\n            <tr key={x.id}>\n              <td>{x.category}</td>\n              <td>{x.item}</td>\n              <td\n                bgcolor=\"white\"\n                onClick={() => {\n                  handleInputChange(x.id, x)\n                }}\n              >\n                {x.result}\n              </td>\n              <td bgcolor=\"white\">\n                <select className=\"checkList__select\">\n                  <option className=\"checkList__option\" value=\"Select\">\n                    Select\n                  </option>\n                  <option className=\"checkList__option\" value=\"OK\">\n                    OK\n                  </option>\n                  <option className=\"checkList__option\" value=\"X\">\n                    X\n                  </option>\n                  <option className=\"checkList__option\" value=\"NI\">\n                    NI\n                  </option>\n                  <option className=\"checkList__option\" value=\"NA\">\n                    NA\n                  </option>\n                </select>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </form>\n  )\n}\n\nexport default CheckForm\n","import React, { Fragment } from \"react\"\n\nconst PhotoBlock = props => {\n  return (\n    <Fragment>\n      <h5>Photos</h5>\n      <div className=\"photoBorder\">\n        {\n          //console.log(props.uploadTable),\n          props.uploadTable.filter(x => x.enable && x.mime_type===\"image/jpeg\").length > 0\n            ? props.uploadTable\n                .filter(y => y.enable && y.mime_type===\"image/jpeg\")\n                .map(x => (\n                  <a key={x._id} href=\"/#\" onClick={props.downloadDoc(x._id, x.file_name)}>\n                    <div className=\"photoBlock\">\n                      <img src={\"/download/\" + x._id} alt=\"\" /> {x.file_name}\n                    </div>\n                  </a>\n                ))\n            : \"No photos\"\n        }\n      </div>\n    </Fragment>\n  )\n}\n\nexport default PhotoBlock\n","import React, { Fragment, useState } from \"react\"\nimport axios from \"axios\"\nimport PhotoBlock from \"../components/PhotoBlock\"\n\nconst UploadForm = props => {\n  const [selectedFile, setSelectedFile] = useState()\n   \n  const inspectionID = props.inspectionID\n  \n  const handleFile = event => {\n    setSelectedFile({ file: event.target.files })\n  }\n\n  const handleUpload = event => {\n    //event.preventDefault()\n\n    props.setDisplayAlert('Do not hit \"UPLOAD\" button again ! Upload in progress', 3)\n\n    const formData = new FormData()\n\n    const files = selectedFile.file\n\n    for (let i = 0; i < files.length; i++) {\n      formData.append(`files[]`, files[i])\n      //console.log(files[i], \"hello  ---$$$\")\n    }\n\n    axios({\n      url: \"/upload\",\n      method: \"POST\",\n      data: formData\n    })\n      .then(res => {\n        for (var i = 0; i < res.data.length; i++) {\n          const _id = res.data[i]._id\n          const inspection_id = inspectionID\n          const file_name = res.data[i].file_name\n          const mime_type = res.data[i].mime_type\n          console.log(\"file_name\", file_name)\n          props.setUploads(prev => prev.concat({ _id, enable: true, file_name, inspection_id, mime_type }))\n        }\n      })\n      .catch(err => {\n        //console.log(err.response.data)\n      })\n  }\n\n  const downloadDoc = (_id, file_name) => event => {\n    event.preventDefault()\n\n    fetch(\"/download/\" + _id, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/octet-stream\",\n        \"Content-Disposition\": \"attachment\"\n      }\n    })\n      .then(response => response.blob())\n      .then(blob => {\n        // Create blob link to download\n        const url = window.URL.createObjectURL(new Blob([blob]))\n        const link = document.createElement(\"a\")\n        link.href = url\n        link.setAttribute(\"download\", file_name)\n\n        // Append to html link element page\n        document.body.appendChild(link)\n\n        // Start download\n        link.click()\n\n        // Clean up and remove the link\n        link.parentNode.removeChild(link)\n      })\n  }\n\n  function getExtension(file_name) {\n    var parts = file_name.split(\".\")\n    return parts[parts.length - 1]\n  }\n\n  function showMimeIcon(file_name) {\n    const iconTypes = [\n      { ext: \"jpeg\", icon: \"file-image-o\" },\n      { ext: \"jpg\", icon: \"file-image-o\" },\n      { ext: \"bmp\", icon: \"file-image-o\" },\n      { ext: \"png\", icon: \"file-image-o\" },\n      { ext: \"jif\", icon: \"file-image-o\" },\n      { ext: \"mp4\", icon: \"file-movie-o\" },\n      { ext: \"avi\", icon: \"file-movie-o\" },\n      { ext: \"mpg\", icon: \"file-movie-o\" },\n      { ext: \"txt\", icon: \"file-text-o\" },\n      { ext: \"xlsx\", icon: \"file-excel-o\" },\n      { ext: \"xls\", icon: \"file-excel-o\" },\n      { ext: \"doc\", icon: \"file-word-o\" },\n      { ext: \"docx\", icon: \"file-word-o\" },\n      { ext: \"ppt\", icon: \"file-powepoint-o\" },\n      { ext: \"pdf\", icon: \"file-pdf-o\" },\n      { ext: \"pptx\", icon: \"file-pdf-o\" },\n      { ext: \"zip\", icon: \"file-zip-o\" }\n    ]\n\n    const fileExtension = getExtension(file_name)\n    const iconType = iconTypes.find(x => x.ext === fileExtension.toLowerCase()).icon\n    const iconFont = iconType ? iconType : \"fa-fa-file\" // file type not registered\n    return \"fa fa-\" + iconFont + \" addSpace\"\n  }\n\n  const deleteUpload = id => {\n    const newUploadTable = [...props.uploads]\n    const index = newUploadTable.findIndex(r => r._id === id)\n    const uploadItem = newUploadTable.find(r => r._id === id)\n    newUploadTable[index] = { ...uploadItem, enable: false }\n    //console.log(newUploadTable)\n    props.setUploads(newUploadTable)\n  }\n\n  return (\n    <Fragment>\n      <PhotoBlock uploadTable={props.uploads} downloadDoc={downloadDoc} />\n      <div>\n        <form>\n          <label>Select File </label>\n          <input type=\"file\" multiple name=\"file\" onChange={handleFile} />\n          <button type=\"button\" onClick={handleUpload}>\n            Upload Documents\n          </button>\n        </form>\n      </div>\n\n      <h5>Documents</h5>\n      <table id=\"uploadFiles\">\n        <tbody>\n          {props.uploads\n            .filter(y => y.enable)\n            .map(x => (\n              <tr key={x._id}>\n                <td>\n                  <button\n                    className=\"button-delete small-button\"\n                    onClick={() => {\n                      deleteUpload(x._id)\n                    }}\n                  >\n                    &times;\n                  </button>\n                  <a href=\"/#\" onClick={downloadDoc(x._id, x.file_name)}>\n                    <i className={showMimeIcon(x.file_name)} />\n                    {x.file_name}\n                  </a>\n                </td>\n              </tr>\n            ))}\n        </tbody>\n      </table>\n    </Fragment>\n  )\n}\n\nexport default UploadForm\n","import React, { useState } from \"react\"\n\nconst SearchKey = props => {\n  const [key, setKey] = useState(props.inspectionID)\n\n  const handleKeyChange = event => {\n    const id = event.target.id\n    const { value } = event.target\n\n    switch (id) {\n      case \"mc\":\n        setKey({ ...key, mc: value })\n        props.setInspectionID({ ...key, mc: value })\n        break\n      case \"iteration\":\n        setKey({ ...key, iteration: value })\n        props.setInspectionID({ ...key, iteration: value })\n        break\n      case \"type\":\n        setKey({ ...key, type: value })\n        props.setInspectionID({ ...key, type: value })\n        break\n      default:\n        break\n    }\n  }\n\n  const validateMC = mc => {\n    const found = props.mcTable.find(x => x.mc_no === mc)\n    const duplicate = props.items.find(x => x.mc_no === mc)\n    if (found == null) {\n      displayAlert(\"No such MC, please check ! \", 0)\n    } else if (duplicate == null) {\n      props.addMC({ mc: mc })\n    } else {\n      displayAlert(\"MC was already entered, please check ! \", 0)\n    }\n  }\n\n  const displayAlert = (msg, bar) => {\n    props.setDisplayAlert(msg, bar)\n  }\n\n  return (\n    <form\n      onSubmit={event => {\n        event.preventDefault()\n        validateMC(key.mc)\n      }}\n    >\n      {key.mc ? (\n        <h5 className=\"searchKey_alert\">\n          {key.mc}-{key.iteration}-{key.type}\n        </h5>\n      ) : null}\n\n      <div className=\"searchKey\">\n        <label>MC No.</label>\n        <input type=\"text\" name=\"mc\" id=\"mc\" onChange={handleKeyChange} />\n        <label>Iteration</label>\n\n        <input type=\"number\" name=\"iteration\" id=\"iteration\" placeholder=\"interation\" min=\"1\" max=\"9\" onChange={handleKeyChange} />\n\n        <label>Type</label>\n\n        <select name=\"type\" id=\"type\" onChange={handleKeyChange}>\n          <option value=\"Select\">Select</option>\n          <option value=\"Final\">Final</option>\n          <option value=\"1stLine\">1st Line</option>\n          <option value=\"2ndLine\">2nd Line</option>\n          <option value=\"3rdLine\">3rd Line</option>\n        </select>\n\n        {/* <button>Search</button> */}\n      </div>\n    </form>\n  )\n}\n\nexport default SearchKey\n","import React from \"react\"\n//import React, { useState } from \"react\"\n\nconst MainMenu = props => {\n  // const [key, setKey] = useState(\"\")\n\n\n  const handleClick = event => {\n  const id = event.target.id\n    //console.log(id)\n    if (id ===\"save\") {\n        props.handleSave()\n    } \n    if (id ===\"delete\") {\n      props.handleDelete()\n    }  \n    if (id ===\"search\") {\n      props.handleSearch()\n    }  \n\n\n  }\n \n\n  return (\n \n      <div className=\"mainMenu\">\n        <button id=\"save\"  onClick={handleClick}>Save</button>\n        <button id=\"search\"  onClick={handleClick}>Search</button>    \n        <button id=\"delete\" onClick={handleClick}>Delete</button>\n      </div>\n \n  )\n}\n\nexport default MainMenu \n\n","import React, { useState, Fragment, useEffect } from \"react\"\nimport axios from \"axios\"\n\nimport AddMCForm from \"./components/AddMCForm\"\nimport EditItemForm from \"./components/EditItemForm\"\nimport ItemTable from \"./components/ItemTable\"\nimport ItemTotal from \"./components/ItemTotal\"\nimport DefectTable from \"./components/DefectTable\"\nimport DefectList from \"./components/DefectList\"\nimport ShowAlert from \"./components/ShowAlert\"\nimport CheckForm from \"./components/CheckForm\"\nimport UploadForm from \"./components/UploadForm\"\nimport SearchKey from \"./components/SearchKey\"\nimport MainMenu from \"./components/MainMenu\"\nimport { v4 as uuidv4 } from \"uuid\"\nimport DatePicker from \"react-datepicker\"\n\nconst App = () => {\n  const initialFormState = { id: null, mc_no: \"\", item_no: \"\", order_qty: \"\", ship_qty: \"\" }\n  // const initialFormState  = { id: uuidv4(), mc_no: 'mc#1',  item_no: 'item#1', order_qty: 100, ship_qty: 100 }\n  const initialInspectionID = { mc: \"\", iteration: \"select\", type: \"select\" }\n\n  // Setting state\n  const [items, setItems] = useState([])\n  const [editing, setEditing] = useState(false)\n  const [currentItem, setCurrentItem] = useState(initialFormState)\n  const [defects, setDefects] = useState([])\n  const [alert, setAlert] = useState(\"\")\n  const [alertBar, setAlertBar] = useState(0)\n  const [mcTable, setMCTable] = useState([])\n  const [checkList, setCheckList] = useState(checkListTable)\n  const [inspectionDate, setInspectionDate] = useState(new Date())\n  const [inspectionID, setInspectionID] = useState(initialInspectionID)\n  const [uploads, setUploads] = useState([])\n  \n  // Data\n\n  useEffect(() => {\n    fetch(\"/api/getAllMC\", {\n      method: \"GET\"\n      // ,\n      // \"headers\": {\n      //   \"x-rapidapi-host\": \"fairestdb.p.rapidapi.com\",\n      //   \"x-rapidapi-key\": \"apikey\"\n      // }\n    })\n      .then(response => response.json())\n      .then(response => {\n        setMCTable(response)\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }, [])\n\n  // // Get Inspection Result (checkList)\n  // useEffect(() => {\n  //   fetch(\"/api/load\", {\n  //     method: \"GET\"\n  //     // ,\n  //     // \"headers\": {\n  //     //   \"x-rapidapi-host\": \"fairestdb.p.rapidapi.com\",\n  //     //   \"x-rapidapi-key\": \"apikey\"\n  //     // }\n  //   })\n  //     .then(response => response.json())\n  //     .then(response => {\n  //       //console.log(response['result']['checkList'])\n  //       setCheckList(response[\"result\"][\"checkList\"])\n  //       setItems(response[\"result\"][\"items\"])\n  //     })\n  //     .catch(err => {\n  //       console.log(err)\n  //     })\n  // }, [])\n\n  // CRUD operations\n  const addMC = mc => {\n    \n    mcTable.map(mc_row => (mc_row.mc_no === mc.mc ? ((mc_row.id = uuidv4()), setItems(prev => prev.concat(mc_row))) : null))\n  }\n\n  const deleteAllItems = item_no => {\n    setEditing(false)\n    setItems(items.filter(item => item.item_no !== item_no))\n  }\n\n  const deleteItem = id => {\n    setEditing(false)\n    setItems(items.filter(item => item.id !== id))\n  }\n\n  const updateItem = (id, updatedItem) => {\n    setEditing(false)\n    setItems(items.map(item => (item.id === id ? updatedItem : item)))\n  }\n\n  const editRow = item => {\n    setEditing(true)\n    setCurrentItem({ id: item.id, mc_no: item.mc_no, item_no: item.item_no, order_qty: item.order_qty, ship_qty: item.ship_qty })\n  }\n\n  const addToDefectList = (product, defect_area, defect_detail, major, minor) => {\n    //setEditing(false)\n    setDefects(prev => prev.concat({ id: uuidv4(), product, defect_area, defect_detail, major, minor }))\n  }\n\n  const deleteDefect = id => {\n    setEditing(false)\n    setDefects(defects.filter(defect => defect.id !== id))\n  }\n\n  const setDisplayAlert = (alert, bar) => {\n    setAlertBar(bar)\n    setAlert(alert)\n    setTimeout(function () {\n      setAlert(\"\")\n    }, 3000)\n  }\n\n  const handleCheckItemChange = (id, change) => {\n    const newCheckList = [...checkList]\n    const index = newCheckList.findIndex(r => r.id === id)\n    newCheckList[index] = change\n    setCheckList(newCheckList)\n    //setCheckList([...checkList], { id: change })\n  }\n\n  const handleSave = () => {\n    //const formData = new FormData()\n    //formData.append('checkList', checkList)\n    console.log(checkList, \"checklist$$$\")\n\n    axios({\n      url: \"/api/save\",\n      //url: \"/api/edit\",\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\"\n      },\n      data: JSON.stringify({ _id: inspectionID, checkList: checkList, items: items, defects: defects, uploads: uploads })\n    })\n      .then(res => {\n        //console.log(\"Saved\")\n        setDisplayAlert(\"Saved Successfully! \",0)\n      })\n      .catch(err => {\n        console.log(err.response.data)\n        setDisplayAlert(\"There was an error in saving, please contact the admin !!\",0)\n      })\n  }\n\n  const handleSearch = () => {\n    axios({\n      url: \"/api/search\",\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\"\n      },\n      data: JSON.stringify({ _id: inspectionID })\n    })\n      .then(response => response.data)\n      .then(response => {\n        setCheckList(response[\"checkList\"])\n        setItems(response[\"items\"])\n\n\n        if (response[\"defects\"] === undefined) {\n          setDefects([])\n        }\n        else {    \n          console.log(response[\"defects\"])\n          setDefects(response[\"defects\"])\n        }\n\n        if (response[\"uploads\"] === undefined) {\n          setUploads(\"\")\n        }\n        else {    \n          console.log(response[\"uploads\"])\n          setUploads(response[\"uploads\"])\n        }\n        \n      })\n      .catch(err => {\n        //console.log(err)\n        setDisplayAlert(\"No such Inspection ID, please try again !\",0)\n\n      })\n  }\n\n  return (\n    <div className=\"container\">\n      <h1>Macy's Inspection Result Capture</h1>\n\n      <div className=\"flex-row\">\n        <div className=\"flex-large\">\n          <Fragment>\n            <MainMenu handleSave={handleSave} handleSearch={handleSearch} />\n          </Fragment>\n        </div>\n      </div>\n\n      {alertBar === 0 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n\n      <div className=\"flex-row\">\n        <div className=\"flex-large\">\n          <Fragment>\n            <h2>Search Inspection</h2>\n            <SearchKey addMC={addMC} mcTable={mcTable} items={items} setDisplayAlert={setDisplayAlert} inspectionID={inspectionID} setInspectionID={setInspectionID} />\n          </Fragment>\n        </div>\n      </div>\n\n      {/* Inspection Date  */}\n      <div className=\"flex-row\">\n        <div className=\"flex-large\">\n          Inspection Date : <DatePicker dateFormat=\"MM/dd/yy\" selected={inspectionDate} onChange={date => setInspectionDate(date)} />\n        </div>\n      </div>\n\n      <div className=\"flex-row\">\n        <div className=\"flex-large\">\n          {editing ? (\n            <Fragment>\n              <h2>Edit Ship Qty</h2>\n              <EditItemForm editing={editing} setEditing={setEditing} currentItem={currentItem} updateItem={updateItem} />\n            </Fragment>\n          ) : (\n            <Fragment>\n              <h2>Add MC</h2>\n              <AddMCForm addMC={addMC} mcTable={mcTable} items={items} setDisplayAlert={setDisplayAlert} />\n            </Fragment>\n          )}\n        </div>\n        <div className=\"flex-large\">\n          <h2>Item Breakdown</h2>\n          <ItemTable items={items} editRow={editRow} deleteItem={deleteItem} />\n        </div>\n      </div>\n      <div className=\"flex-row\">\n        <div className=\"flex-large\">\n          <h2>Group By Items</h2>\n          <ItemTotal items={items} deleteAllItems={deleteAllItems} />\n        </div>\n      </div>\n\n      <div className=\"flex-row\">\n        <div className=\"flex-large\">\n          <h2>Defects</h2>\n          <DefectTable items={items} setEditing={setEditing} addToDefectList={addToDefectList} setDisplayAlert={setDisplayAlert} />\n        </div>\n      </div>\n\n      {alertBar === 2 ? (\n        <div className=\"flex-row\">\n          <div className=\"flex-large\">\n            <ShowAlert alert={alert} />\n          </div>\n        </div>\n      ) : null}\n\n      <div className=\"flex-row\">\n        <div className=\"flex-large\">\n          <DefectList defects={defects} setEditing={setEditing} deleteDefect={deleteDefect} />\n        </div>\n      </div>\n\n      <div className=\"flex-row\">\n        <div className=\"flex-large\">\n          <CheckForm checkList={checkList} handleCheckItemChange={handleCheckItemChange} />\n        </div>\n      </div>\n\n      <div className=\"flex-row\">\n        <div className=\"flex-large\">\n          {alertBar === 3 ? (\n            <div className=\"flex-row\">\n              <div className=\"flex-large\">\n                <ShowAlert alert={alert} />\n              </div>\n            </div>\n          ) : null}\n          <UploadForm setDisplayAlert={setDisplayAlert} inspectionID={inspectionID} setUploads={setUploads} uploads={uploads} />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst checkListTable = [\n  { id: 1, section: \"A1\", category: \"Material\", item: \"Color\", result: \"Select\" },\n  { id: 2, section: \"A2\", category: \"Material\", item: \"Quality\", result: \"Select\" },\n  { id: 3, section: \"A3\", category: \"Material\", item: \"Hand Feel\", result: \"Select\" },\n  { id: 4, section: \"A4\", category: \"Material\", item: \"Finish / Print\", result: \"Select\" }\n]\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./css/index.css\"\nimport \"./css/defect.css\"\nimport \"./css/checkList.css\"\nimport \"./css/uploadDoc.css\"\nimport \"./css/photoBlock.css\"\nimport \"./css/searchKey.css\"\nimport \"./css/app.css\"\nimport \"./css/mainMenu.css\"\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nimport App from \"./App\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}